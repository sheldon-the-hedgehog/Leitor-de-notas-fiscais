from datetime import datetime
from dateutil.relativedelta import relativedelta


def verifica_ncms(lista):
    permitidos = ("25202","2522","2523","2713","2715","28","29","31","32","37","38","39","40","41","44","4504","47","48","50"
    ,"51","52","53","54","55","56","58","59","60","61","62","63","63","64","65050022","68","69","70","72","73","74","75","76"
    ,"78","79","80","81","82","83","8484","90049020","90183","902000","94")
    
    excluidos = ("38160090","38221100","38221200","38221300","38221930","38221940","38221990","3825","3826","2844500","3101","31025"
    ,"3213","3704","3705","3706","3915","39251","39253","39264","3926902","4001","4003","4004","401011","40122","4014","4016959"             
    ,"4101","4102","4103","4115","4401","4402","4403","4404","44201","4421","4401","4402","4403","4404","44201","4421","4707","4817"
    ,"48181","48183","48185","4818909","48202","48205","48236","5001","5003","5006","5101","5102","5103","5104","5109","52010010"
    ,"52010090","5202","52042","5207","53011","53013","5302","5303","5305","5505","5805","5904","6309","6310","68114","6812","6813"
    ,"6903","6913","69141","7001","7204","730419","7304239","730424","730429","7304311","7304391","7304399","73045119","73045919"
    ,"7304599","7305","73061","73062","73063","73064","73065","73082","7308909","7309","73101","731029","7311","73199","73211"
    ,"73218","7322","7323","7325","7326","7404","7418","7503","7602","7611","7613","7615","7802","7902","8002","810197","810297"
    ,"81033","81042","81053","81073","81079","81083","81093","81102","811213","811222","81123100","81123900","81124100","81124900"
    ,"811252","81126100","81126900","81129","8113009","82073","8210","8211932","8211939","8212","8213","8214","8303","83062","83063"
    ,"8307","9402","94032","9405","9406")
    
    financiavel = False

    for ncm in lista:
        if ncm.startswith(permitidos) and not ncm.startswith(excluidos):
            financiavel = True
            break

    return financiavel    
    
    
def verfica_data(data_string):
    hoje = datetime.today()
    data_objeto = datetime.strptime(data_string, "%d/%m/%Y")

    diferença = relativedelta(hoje, data_objeto)
    dif_total_meses = diferença.years * 12 + diferença.months

    if dif_total_meses < 6:
        return True
    else:
        return False
    


  

                
    


